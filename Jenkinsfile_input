def QUERY_RESULTS = [
    ["ENV": "DEV", "IMAGE": "jdk8-slim", "VERSION": "1.0"],
    ["ENV": "DEV", "IMAGE": "alpine", "VERSION": "1.2"],
    ["ENV": "DEV", "IMAGE": "buster", "VERSION": "1.6.2"]
]

def image_version_Choices = QUERY_RESULTS.collect { it.IMAGE, it.VERSION }

pipeline {
    agent any

    parameters {
        choice(
            choices: image_version_Choices,
            description: 'Select an image and version:',
            name: 'SELECTED_IMAGE_VERSION'
        )
    }
    
    stages {
        stage('Parameters') {
            steps {
                script {
                    def selectedImageVersion = params.SELECTED_IMAGE_VERSION
                    
                    echo "Selected Image & Version: ${selectedImageVersion}"
                }
            }
        }
        
        // Add more stages as needed for your pipeline
    }
}
